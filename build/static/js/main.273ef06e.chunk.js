(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{46:function(e,t,c){},70:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c.n(r),s=c(2),a=c(22),i=c.n(a),l=(c(46),c(3)),o=c(6),d=c(5),j=c(7),u=c.n(j),b=c(15),h=c(16),p=c.n(h),O="PRODUCT_LIST_REQUEST",m="PRODUCT_LIST_SUCCESS",x="PRODUCT_LIST_FAIL",f="SWEET_LIST_REQUEST",v="SWEET_LIST_SUCCESS",g="SWEET_LIST_FAIL",y="PRODUCT_DETAIL_REQUEST",N="PRODUCT_DETAIL_SUCCESS",S="PRODUCT_DETAIL_FAIL",w=function(){return function(){var e=Object(b.a)(u.a.mark((function e(t){var c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:O}),e.prev=1,e.next=4,p.a.get("/api/products");case 4:c=e.sent,r=c.data,t({type:m,payload:r.filter((function(e){return"pizza"===e.type}))}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:x,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},I=function(){return function(){var e=Object(b.a)(u.a.mark((function e(t){var c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:f}),e.prev=1,e.next=4,p.a.get("/api/products");case 4:c=e.sent,r=c.data,t({type:v,payload:r.filter((function(e){return"sweet"===e.type}))}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:g,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},E=c(14),C=c(0);function _(){return Object(C.jsxs)("div",{className:"loading",children:[Object(C.jsx)(E.f,{}),"Loading..."]})}function k(e){return Object(C.jsx)("div",{className:"alert alert-".concat(e.variant||"info"),children:e.children})}var T=function(e){var t=Object(s.b)(),c=e.match.params.id,n=Object(r.useState)(1),a=Object(d.a)(n,2),i=a[0],l=a[1],o=Object(s.c)((function(e){return e.productDetail})),j=o.loading,h=o.error,O=o.product;return Object(r.useEffect)((function(){t(function(e){return function(){var t=Object(b.a)(u.a.mark((function t(c){var r,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:y,payload:e}),t.prev=1,t.next=4,p.a.get("/api/products/".concat(e));case 4:r=t.sent,n=r.data,c({type:N,payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),c({type:S,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(c))}),[t,c]),Object(C.jsx)(C.Fragment,{children:j?Object(C.jsx)(_,{}):h?Object(C.jsx)(k,{children:h}):Object(C.jsx)("article",{className:".detail-container",children:Object(C.jsxs)("div",{className:"detail-warpper",children:[Object(C.jsx)("div",{className:"detail-card",children:Object(C.jsx)("img",{className:"detail-img",src:O.img,alt:O.alt})}),Object(C.jsx)("div",{className:"detail-card",children:Object(C.jsx)("div",{className:"detail-info",children:Object(C.jsxs)("ul",{children:[Object(C.jsx)("li",{children:Object(C.jsx)("h1",{children:O.name})}),Object(C.jsxs)("li",{className:"detail-price",children:["$",O.price]}),Object(C.jsxs)("li",{children:["Description:",Object(C.jsx)("p",{children:O.desc})]})]})})}),Object(C.jsx)("div",{className:"detail-card",children:Object(C.jsx)("div",{className:"card card-body",children:Object(C.jsxs)("ul",{children:[Object(C.jsx)("li",{children:Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{children:"Price:"}),Object(C.jsxs)("div",{className:"price",children:["$",O.price]})]})}),Object(C.jsx)("li",{children:Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{children:"Quantity:"}),Object(C.jsx)("div",{className:"input-wrap",children:Object(C.jsx)("input",{className:"input-box",value:i,onChange:function(e){return l(e.target.value)}})})]})}),Object(C.jsx)("li",{children:Object(C.jsx)("button",{onClick:function(){e.history.push("/cart/".concat(c,"?qty=").concat(i))},className:"product-button block",children:"Add to Cart"})})]})})})]})})})},P=function(e){var t=e.heading,c=e.data,r=Object(o.f)();return Object(C.jsxs)("div",{className:"product-container",children:[Object(C.jsx)("h1",{className:"product-heading",children:t}),Object(C.jsx)("div",{className:"product-warpper",children:c?c.map((function(e){return Object(C.jsxs)("div",{className:"product-card",children:[Object(C.jsx)(l.b,{to:"/api/products/".concat(e._id),children:Object(C.jsx)("img",{className:"product-img",src:e.img,alt:e.alt})}),Object(C.jsxs)("div",{className:"product-info",children:[Object(C.jsx)(l.b,{to:"/api/products/".concat(e._id),className:"product-title",children:Object(C.jsxs)("h2",{className:"product-title",children:[" ",e.name]})}),Object(C.jsxs)("p",{className:"product-price",children:["$",e.price]}),Object(C.jsx)("button",{onClick:function(){return r.push("/cart/".concat(e._id,"?qty=",1),{from:"CartScreen"})},className:"product-button block",children:"Add to Cart"})]})]},e._id)})):"Loading..."})]})};var A=function(){return Object(C.jsxs)("article",{className:"feature-container",children:[Object(C.jsx)("h1",{children:"Pizza of the Day"}),Object(C.jsx)("p",{children:"Truffle alfredo sauce topped with 24 carat gold dust"}),Object(C.jsx)("button",{className:"feature-button",children:"Order Now"})]})};var R=function(){return Object(C.jsx)("div",{className:"billboards-container",children:Object(C.jsx)("div",{className:"billboards-content",children:Object(C.jsxs)("div",{className:"billboards-item",children:[Object(C.jsx)("h1",{children:"Greatest Pizza in Town"}),Object(C.jsx)("p",{children:"Ready in 60 seconds"}),Object(C.jsx)(l.b,{to:"/menu",children:Object(C.jsx)("button",{children:"Place Order"})})]})})})},L=function(){return Object(C.jsx)(l.b,{className:"see-more",to:"/menu",children:Object(C.jsx)("div",{className:"seemore-container",children:Object(C.jsx)("div",{className:"product-warpper",children:Object(C.jsx)("button",{className:"feature-button see-more",children:"See More"})})})})};var F=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.productList})),c=Object(s.c)((function(e){return e.sweetList})),n=t.loading,a=t.error,i=t.products,l=c.loadingSweet,o=c.errorSweet,d=c.sweet;return Object(r.useEffect)((function(){e(w()),e(I())}),[e]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(R,{}),n?Object(C.jsx)(_,{}):a?Object(C.jsx)(k,{children:a}):Object(C.jsx)(P,{data:i.slice(1,7),heading:"Choose your Favourite"}),Object(C.jsx)(L,{}),Object(C.jsx)(A,{}),l?Object(C.jsx)(_,{}):o?Object(C.jsx)(k,{variant:"danger",children:o}):Object(C.jsx)(P,{data:d.slice(1,7),heading:"Sweet Treats for You"}),Object(C.jsx)(L,{})]})},D="USER_SIGNIN_REQUEST",U="USER_SIGNIN_SUCCESS",q="USER_SIGNIN_FAIL",z="USER_REGISTER_REQUEST",M="USER_REGISTER_SUCCESS",B="USER_REGISTER_FAIL",$="USER_SIGNOUT";var G=function(){var e=Object(s.c)((function(e){return e.cart})).cartItems,t=Object(s.c)((function(e){return e.userSignin})).userInfo,c=Object(s.b)();return Object(C.jsx)("header",{children:Object(C.jsxs)("nav",{className:"nav-bar row",children:[Object(C.jsx)("h1",{className:"nav-bar-title",children:Object(C.jsx)(l.b,{to:"/",children:"Lost Boys Pizza"})}),Object(C.jsxs)("div",{className:"nav-wrapper",children:[Object(C.jsxs)(l.b,{to:"/cart",className:"nav-bar-link",children:["Cart",e.length>0&&Object(C.jsx)("span",{className:"badge",children:e.length})]}),Object(C.jsx)(l.b,{to:"/menu",className:"nav-bar-link",children:"Full Menu"}),Object(C.jsx)("a",{href:"https://www.google.com/maps/place/Lost+Boys+Pizza+Camden/@51.5336039,-0.1378751,15z/data=!4m5!3m4!1s0x0:0x9e9cf7ac30c9cc68!8m2!3d51.5336166!4d-0.1378454",target:"_blank",className:"nav-bar-link",rel:"noreferrer noopener",children:"Come to Us"}),t?Object(C.jsxs)("div",{className:"dropdown",children:[Object(C.jsxs)(l.b,{to:"#",className:"nav-bar-link",children:[t.name," ",Object(C.jsx)(E.b,{})]}),Object(C.jsx)("ul",{className:"dropdown-content",children:Object(C.jsx)(l.b,{to:"#signout",onClick:function(){c((function(e){localStorage.removeItem("userInfo"),localStorage.removeItem("cartItems"),localStorage.removeItem("shippingAddress"),e({type:$})}))},children:"Sign Out"})})]}):Object(C.jsx)(l.b,{to:"/signin",className:"nav-bar-link",children:"Sign in"})]})]})})},J=function(){return Object(C.jsx)("footer",{className:"footer-container",children:Object(C.jsx)("div",{className:"footer-wrap",children:Object(C.jsx)("section",{className:"social-media",children:Object(C.jsxs)("div",{className:"social-media-wrap",children:[Object(C.jsx)(l.b,{to:"/",className:"social-title",children:Object(C.jsx)("h2",{children:"Lost Boys Pizza"})}),Object(C.jsx)("div",{className:"social-icon",children:Object(C.jsx)("a",{href:"https://www.facebook.com/LostBoysPizza/",className:"social-link",target:"_blank",rel:"noreferrer noopener",children:Object(C.jsx)(E.c,{})})}),Object(C.jsx)("div",{className:"social-icon",children:Object(C.jsx)("a",{href:"https://www.instagram.com/lostboyspizza/",className:"social-link",target:"_blank",rel:"noreferrer noopener",children:Object(C.jsx)(E.d,{})})}),Object(C.jsx)("div",{className:"social-icon",children:Object(C.jsx)("a",{href:"https://www.google.com/maps/place/Lost+Boys+Pizza+Camden/@51.5336039,-0.1378751,15z/data=!4m5!3m4!1s0x0:0x9e9cf7ac30c9cc68!8m2!3d51.5336166!4d-0.1378454",className:"social-link",target:"_blank",rel:"noreferrer noopener",children:Object(C.jsx)(E.e,{})})})]})})})})},Q=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),c=t[0],n=t[1];return window.addEventListener("scroll",(function(){var e=document.documentElement.scrollTop;e>300?n(!0):e<=300&&n(!1)})),Object(C.jsx)("div",{className:"scroll-button",children:Object(C.jsx)(E.a,{onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},style:{display:c?"inline":"none"}})})},H="CART_ADD_ITEM",V="CART_REMOVE_ITEM",W="CART_SAVE_SHIPPING_ADDRESS",X="CART_SAVE_PAYMENT_METHOD",Y=function(e,t){return function(){var c=Object(b.a)(u.a.mark((function c(r,n){var s,a;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,p.a.get("/api/products/".concat(e));case 2:s=c.sent,a=s.data,r({type:H,payload:{name:a.name,image:a.img,price:a.price,product:a._id,alt:a.alt,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems));case 6:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()};function Z(e){var t=e.match.params.id,c=e.location.search?Number(e.location.search.split("=")[1]):1,n=Object(s.c)((function(e){return e.cart})).cartItems,a=Object(s.b)();Object(r.useEffect)((function(){t&&a(Y(t,c))}),[a,t,c]);var i=function(e){a(function(e){return function(t,c){t({type:V,payload:e}),localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems))}}(e))};return Object(C.jsxs)("div",{className:"row top",children:[Object(C.jsxs)("div",{className:"col-2",children:[Object(C.jsx)("h1",{className:"center-text",children:"Shopping Cart"}),0===n.length?Object(C.jsxs)(k,{children:["Cart is empty. ",Object(C.jsx)(l.b,{to:"/",children:"Go Shopping"})]}):Object(C.jsx)("ul",{children:n.map((function(e){return Object(C.jsx)("li",{children:Object(C.jsxs)("div",{className:"row cart",children:[Object(C.jsx)("img",{src:e.image,alt:e.alt,className:"img-small cart-margin"}),Object(C.jsx)("div",{className:"min-25",children:Object(C.jsx)(l.b,{to:"/api/products/".concat(e.product),className:"cart-item-link",children:e.name})}),Object(C.jsx)("input",{className:"qty-box",value:e.qty,onChange:function(t){return a(Y(e.product,Number(t.target.value)))}}),Object(C.jsxs)("div",{children:["$",e.price]}),Object(C.jsx)("div",{children:Object(C.jsx)("button",{type:"button",onClick:function(){return i(e.product)},className:"delete-button block",children:"Delete"})})]})},e.product)}))})]}),Object(C.jsx)("div",{className:"col-1",children:Object(C.jsx)("div",{className:"card card-body",children:Object(C.jsxs)("ul",{children:[Object(C.jsx)("li",{children:Object(C.jsxs)("h2",{children:["Subtotal (",n.reduce((function(e,t){return e+t.qty}),0)," items) : $",n.reduce((function(e,t){return e+t.price*t.qty}),0).toFixed(2)]})}),Object(C.jsx)("li",{children:Object(C.jsx)("button",{type:"button",onClick:function(){e.history.push("/signin?redirect=shipping")},className:"checkout-button block",disabled:0===n.length,children:"Proceed to Checkout"})})]})})})]})}var K=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.productList})),c=Object(s.c)((function(e){return e.sweetList})),n=t.loading,a=t.error,i=t.products,l=c.loadingSweet,o=c.errorSweet,d=c.sweet;return Object(r.useEffect)((function(){e(w()),e(I())}),[e]),Object(C.jsxs)(C.Fragment,{children:[n?Object(C.jsx)(_,{}):a?Object(C.jsx)(k,{children:a}):Object(C.jsx)(P,{data:i,heading:"PIZZA"}),l?Object(C.jsx)(_,{}):o?Object(C.jsx)(k,{variant:"danger",children:o}):Object(C.jsx)(P,{data:d,heading:"DESSERT"})]})},ee=function(){return Object(C.jsxs)("div",{className:"alert alert-danger",children:[Object(C.jsx)("h1",{children:"Error Page"}),Object(C.jsx)(l.b,{to:"/",className:"btn",children:"Back Home"})]})};var te=function(e){var t=Object(r.useState)(""),c=Object(d.a)(t,2),n=c[0],a=c[1],i=Object(r.useState)(""),o=Object(d.a)(i,2),j=o[0],h=o[1],O=e.location.search?e.location.search.split("=")[1]:"/",m=Object(s.c)((function(e){return e.userSignin})),x=m.userInfo,f=m.loading,v=m.error,g=Object(s.b)();return Object(r.useEffect)((function(){x&&e.history.push(O)}),[e.history,O,x]),Object(C.jsx)("div",{children:Object(C.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),g(function(e,t){return function(){var c=Object(b.a)(u.a.mark((function c(r){var n,s;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r({type:D,payload:{email:e,password:t}}),c.prev=1,c.next=4,p.a.post("api/users/signin",{email:e,password:t});case 4:n=c.sent,s=n.data,r({type:U,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),r({type:q,payload:c.t0.response&&c.t0.response.data.message?c.t0.response.data.message:c.t0.message});case 13:case"end":return c.stop()}}),c,null,[[1,10]])})));return function(e){return c.apply(this,arguments)}}()}(n,j))},children:[Object(C.jsx)("div",{children:Object(C.jsx)("h1",{children:"Sign In"})}),f&&Object(C.jsx)(_,{}),v&&Object(C.jsx)(k,{variant:"danger",children:v}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{htmlFor:"email",children:"Email address"}),Object(C.jsx)("input",{className:"signin-input",type:"email",id:"email",placeholder:"Enter email",required:!0,onChange:function(e){return a(e.target.value)}})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{htmlFor:"password",children:"Password"}),Object(C.jsx)("input",{className:"signin-input",type:"password",id:"password",placeholder:"Enter password",required:!0,onChange:function(e){return h(e.target.value)}})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{}),Object(C.jsx)("button",{className:"primary signin-button",type:"submit",children:"Sign In"})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{}),Object(C.jsxs)("div",{children:["New customer?"," ",Object(C.jsx)(l.b,{to:"/register?redirect=".concat(O),children:"Create your account"})]})]})]})})};var ce=function(e){var t=Object(r.useState)(""),c=Object(d.a)(t,2),n=c[0],a=c[1],i=Object(r.useState)(""),o=Object(d.a)(i,2),j=o[0],h=o[1],O=Object(r.useState)(""),m=Object(d.a)(O,2),x=m[0],f=m[1],v=Object(r.useState)(""),g=Object(d.a)(v,2),y=g[0],N=g[1],S=e.location.search?e.location.search.split("=")[1]:"/",w=Object(s.c)((function(e){return e.userRegister})),I=w.userInfo,E=w.loading,T=w.error,P=Object(s.b)();return Object(r.useEffect)((function(){I&&e.history.push(S)}),[e.history,S,I]),Object(C.jsx)("div",{children:Object(C.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),x!==y?alert("Password and confirm password are not match"):P(function(e,t,c){return function(){var r=Object(b.a)(u.a.mark((function r(n){var s,a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n({type:z,payload:{email:t,password:c}}),r.prev=1,r.next=4,p.a.post("api/users/register",{name:e,email:t,password:c});case 4:s=r.sent,a=s.data,n({type:M,payload:a}),n({type:U,payload:a}),localStorage.setItem("userInfo",JSON.stringify(a)),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),n({type:B,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[1,11]])})));return function(e){return r.apply(this,arguments)}}()}(n,j,x))},children:[Object(C.jsx)("div",{children:Object(C.jsx)("h1",{children:"Create Account"})}),E&&Object(C.jsx)(_,{}),T&&Object(C.jsx)(k,{variant:"danger",children:T}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{htmlFor:"name",children:"Name"}),Object(C.jsx)("input",{className:"signin-input",type:"text",id:"name",placeholder:"Enter name",required:!0,onChange:function(e){return a(e.target.value)}})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{htmlFor:"email",children:"Email address"}),Object(C.jsx)("input",{className:"signin-input",type:"email",id:"email",placeholder:"Enter email",required:!0,onChange:function(e){return h(e.target.value)}})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{htmlFor:"password",children:"Password"}),Object(C.jsx)("input",{className:"signin-input",type:"password",id:"password",placeholder:"Enter password",required:!0,onChange:function(e){return f(e.target.value)}})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(C.jsx)("input",{className:"signin-input",type:"password",id:"confirmPassword",placeholder:"Enter confirm password",required:!0,onChange:function(e){return N(e.target.value)}})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{}),Object(C.jsx)("button",{className:"primary signin-button",type:"submit",children:"Register"})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{}),Object(C.jsxs)("div",{children:["Already have an account?"," ",Object(C.jsx)(l.b,{to:"/signin?redirect=".concat(S),children:"Sign in"})]})]})]})})};function re(e){return Object(C.jsxs)("div",{className:"row checkout-steps",children:[Object(C.jsx)("div",{className:e.step1?"active":"",children:"Sign In"}),Object(C.jsx)("div",{className:e.step2?"active":"",children:"Shipping"}),Object(C.jsx)("div",{className:e.step3?"active":"",children:"Payment"}),Object(C.jsx)("div",{className:e.step4?"active":"",children:"Place Order"})]})}function ne(e){var t=Object(s.c)((function(e){return e.userSignin})).userInfo,c=Object(s.c)((function(e){return e.cart})).shippingAddress;t||e.history.push("/signin");var n=Object(r.useState)(c.fullName),a=Object(d.a)(n,2),i=a[0],l=a[1],o=Object(r.useState)(c.tel),j=Object(d.a)(o,2),u=j[0],b=j[1],h=Object(r.useState)(c.address),p=Object(d.a)(h,2),O=p[0],m=p[1],x=Object(s.b)();return Object(C.jsxs)("div",{children:[Object(C.jsx)(re,{step1:!0,step2:!0}),Object(C.jsxs)("form",{className:"form",onSubmit:function(t){var c;t.preventDefault(),x((c={fullName:i,address:O,tel:u},function(e){e({type:W,payload:c}),localStorage.setItem("shippingAddress",JSON.stringify(c))})),e.history.push("/payment")},children:[Object(C.jsx)("div",{children:Object(C.jsx)("h1",{children:"Shipping Address"})}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{htmlFor:"fullName",children:"Full Name"}),Object(C.jsx)("input",{className:"signin-input",type:"text",id:"fullName",placeholder:"Enter full name",value:i,onChange:function(e){return l(e.target.value)},required:!0})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{htmlFor:"fullName",children:"Telephone"}),Object(C.jsx)("input",{className:"signin-input",type:"tel",id:"tel",placeholder:"Enter telephone",value:u,onChange:function(e){return b(e.target.value)},required:!0})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{htmlFor:"fullName",children:"Address"}),Object(C.jsx)("input",{className:"signin-input",type:"text",id:"address",placeholder:"Enter address",value:O,onChange:function(e){return m(e.target.value)},required:!0})]}),Object(C.jsx)("div",{children:Object(C.jsx)("label",{children:Object(C.jsx)("button",{className:"primary signin-button",type:"submit",children:"Continue"})})})]})]})}function se(e){var t=Object(r.useState)("Banking"),c=Object(d.a)(t,2),n=c[0],a=c[1],i=Object(s.b)();return Object(C.jsxs)("div",{children:[Object(C.jsx)(re,{step1:!0,step2:!0,step3:!0}),Object(C.jsxs)("form",{className:"form",onSubmit:function(t){var c;t.preventDefault(),i((c=n,function(e){e({type:X,payload:c})})),e.history.push("/placeorder")},children:[Object(C.jsx)("div",{children:Object(C.jsx)("h1",{children:"Payment method"})}),Object(C.jsx)("div",{children:Object(C.jsxs)("div",{children:[Object(C.jsx)("input",{type:"radio",id:"banking",value:"Banking",name:"paymentMethod",required:!0,checked:!0,onChange:function(e){return a(e.target.value)}}),Object(C.jsx)("label",{htmlFor:"banking",children:"Internet Banking"})]})}),Object(C.jsx)("div",{children:Object(C.jsxs)("div",{children:[Object(C.jsx)("input",{type:"radio",id:"cash",value:"Cash",name:"paymentMethod",required:!0,onChange:function(e){return a(e.target.value)}}),Object(C.jsx)("label",{htmlFor:"cash",children:"Cash"})]})}),Object(C.jsx)("div",{children:Object(C.jsx)("button",{className:"primary signin-button",type:"submit",children:"Continue"})})]})]})}function ae(e){var t=Object(r.useState)(!1),c=Object(d.a)(t,2),n=c[0],a=c[1],i=Object(s.c)((function(e){return e.cart}));i.paymentMethod||e.history.push("/payment");var o=function(e){return Number(e.toFixed(2))};i.itemsPrice=o(i.cartItems.reduce((function(e,t){return e+t.qty*t.price}),0)),i.shippingPrice=i.itemsPrice>100?o(0):o(10),i.taxPrice=o(.15*i.itemsPrice),i.totalPrice=o(i.itemsPrice+i.shippingPrice+i.taxPrice);var j=e.location.search?e.location.search.split("=")[1]:"/ordersuccess";return Object(r.useEffect)((function(){n&&(e.history.push(j),window.location.reload())}),[e.history,j,n]),Object(C.jsxs)("div",{children:[Object(C.jsx)(re,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(C.jsxs)("div",{className:"row top",children:[Object(C.jsx)("div",{className:"col-2",children:Object(C.jsxs)("ul",{children:[Object(C.jsx)("li",{children:Object(C.jsxs)("div",{className:"card card-body",children:[Object(C.jsx)("h2",{children:"Shipping"}),Object(C.jsxs)("p",{children:[Object(C.jsx)("strong",{children:"Name:"})," ",i.shippingAddress.fullName," ",Object(C.jsx)("br",{}),Object(C.jsx)("strong",{children:"Phone:"})," ",i.shippingAddress.tel," ",Object(C.jsx)("br",{}),Object(C.jsx)("strong",{children:"Address:"})," ",i.shippingAddress.address]})]})}),Object(C.jsx)("li",{children:Object(C.jsxs)("div",{className:"card card-body",children:[Object(C.jsx)("h2",{children:"Payment"}),Object(C.jsxs)("p",{children:[Object(C.jsx)("strong",{children:"Method:"})," ",i.paymentMethod]})]})}),Object(C.jsx)("li",{children:Object(C.jsxs)("div",{className:"card card-body",children:[Object(C.jsx)("h2",{children:"Order Items"}),Object(C.jsx)("ul",{children:i.cartItems.map((function(e){return Object(C.jsx)("li",{children:Object(C.jsxs)("div",{className:"row cart",children:[Object(C.jsx)("img",{src:e.image,alt:e.alt,className:"img-small cart-margin"}),Object(C.jsx)("div",{className:"min-25",children:Object(C.jsx)(l.b,{to:"/api/products/".concat(e.product),className:"cart-item-link",children:e.name})}),Object(C.jsxs)("div",{children:[e.qty," x $",e.price," = $",e.qty*e.price]})]})},e.product)}))})]})})]})}),Object(C.jsx)("div",{className:"col-1",children:Object(C.jsx)("div",{className:"card card-body",children:Object(C.jsxs)("ul",{children:[Object(C.jsx)("li",{children:Object(C.jsx)("h2",{children:"Order Summary"})}),Object(C.jsx)("li",{children:Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{children:"Items:"}),Object(C.jsxs)("div",{children:["$",i.itemsPrice.toFixed(2)]})]})}),Object(C.jsx)("li",{children:Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{children:"Shipping:"}),Object(C.jsxs)("div",{children:["$",i.shippingPrice.toFixed(2)]})]})}),Object(C.jsx)("li",{children:Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{children:"Tax:"}),Object(C.jsxs)("div",{children:["$",i.taxPrice.toFixed(2)]})]})}),Object(C.jsx)("li",{children:Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{children:Object(C.jsx)("strong",{children:"TOTAL:"})}),Object(C.jsx)("div",{children:Object(C.jsxs)("strong",{children:["$",i.totalPrice]})})]})}),Object(C.jsx)("li",{children:Object(C.jsx)(l.b,{to:"?redirect=".concat(j),children:Object(C.jsx)("button",{className:"primary signin-button",type:"submit",onClick:function(){localStorage.removeItem("cartItems"),a(!0)},disabled:0===i.cartItems.length,children:"Continue"})})})]})})})]})]})}var ie=function(e){var t=Object(r.useState)(5),c=Object(d.a)(t,2),n=c[0],s=c[1];return Object(r.useEffect)((function(){var t=setInterval((function(){s(n-1)}),1e3);return setTimeout((function(){e.history.push("/")}),6e3),function(){return clearInterval(t)}})),Object(C.jsxs)("div",{className:"alert success",children:[Object(C.jsx)("h1",{children:"Order Success"}),Object(C.jsxs)(l.b,{to:"/",className:"btn",children:["Back to Home after ",n," second"]})]})};var le=function(){return Object(C.jsxs)(l.a,{children:[Object(C.jsx)(G,{}),Object(C.jsx)("main",{style:{minHeight:"calc(100vh - 198px)"},children:Object(C.jsxs)(o.c,{children:[Object(C.jsx)(o.a,{path:"/",exact:!0,component:F}),Object(C.jsx)(o.a,{path:"/api/products/:id",component:T}),Object(C.jsx)(o.a,{path:"/cart/:id?",component:Z}),Object(C.jsx)(o.a,{path:"/menu",component:K}),Object(C.jsx)(o.a,{path:"/signin",component:te}),Object(C.jsx)(o.a,{path:"/register",component:ce}),Object(C.jsx)(o.a,{path:"/shipping",component:ne}),Object(C.jsx)(o.a,{path:"/payment",component:se}),Object(C.jsx)(o.a,{path:"/placeorder",component:ae}),Object(C.jsx)(o.a,{path:"/ordersuccess",component:ie}),Object(C.jsx)(o.a,{path:"*",component:ee})]})}),Object(C.jsx)(Q,{}),Object(C.jsx)(J,{})]})},oe=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,71)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),r(e),n(e),s(e),a(e)}))},de=c(20),je=c(37),ue=c(38),be=c(13),he={userSignin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null},cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},paymentMethod:"Banking"}},pe=Object(de.b)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{loading:!0};case m:return{loading:!1,products:t.payload};case x:return{loading:!1,error:t.payload};default:return e}},productDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{},loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return{loading:!0};case N:return{loading:!1,product:t.payload};case S:return{loading:!1,error:t.payload};default:return e}},sweetList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{sweet:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{loadingSweet:!0};case v:return{loadingSweet:!1,sweet:t.payload};case g:return{loadingSweet:!1,errorSweet:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:var c=t.payload,r=e.cartItems.find((function(e){return e.product===c.product}));return r?Object(be.a)(Object(be.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===r.product?c:e}))}):Object(be.a)(Object(be.a)({},e),{},{cartItems:[].concat(Object(ue.a)(e.cartItems),[c])});case V:return Object(be.a)(Object(be.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case W:return Object(be.a)(Object(be.a)({},e),{},{shippingAddress:t.payload});case X:return Object(be.a)(Object(be.a)({},e),{},{paymentMethod:t.payload});default:return e}},userSignin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return{loading:!0};case U:return{loading:!1,userInfo:t.payload};case q:return{loading:!1,error:t.payload};case $:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return{loading:!0};case M:return{loading:!1,userInfo:t.payload};case B:return{loading:!1,error:t.payload};default:return e}}}),Oe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||de.c,me=Object(de.d)(pe,he,Oe(Object(de.a)(je.a)));i.a.render(Object(C.jsx)(s.a,{store:me,children:Object(C.jsx)(n.a.StrictMode,{children:Object(C.jsx)(le,{})})}),document.getElementById("root")),oe()}},[[70,1,2]]]);
//# sourceMappingURL=main.273ef06e.chunk.js.map